<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>文档流 vs 脱离文档流 - 对比演示</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      line-height: 1.6;
    }

    .demo-section {
      margin: 40px 0;
      padding: 20px;
      border: 2px solid #333;
      background-color: #f9f9f9;
    }

    .box {
      width: 150px;
      height: 80px;
      padding: 15px;
      color: white;
      border-radius: 5px;
      display: inline-block; /* 让盒子可以并排显示 */
      margin: 5px;
      box-sizing: border-box;
    }

    .box-1 { background-color: #4a90e2; } /* 蓝色 */
    .box-2 { background-color: #50e3c2; } /* 绿色 */
    .box-3 { background-color: #f5a623; } /* 橙色 */
    .box-4 { background-color: #bd10e0; } /* 紫色 */

    /* --- 演示1：正常文档流 --- */
    .normal-flow .box-2 {
      /* 没有 position 属性，元素在文档流中 */
      background-color: #50e3c2;
    }

    /* --- 演示2：脱离文档流（absolute）--- */
    .out-of-flow .box-2 {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: #50e3c2;
      /* 注意：这个元素已经脱离文档流，不占据空间 */
    }

    .out-of-flow {
      position: relative; /* 为 absolute 子元素创建定位上下文 */
      min-height: 200px; /* 确保容器有足够高度 */
    }

    /* --- 演示3：脱离文档流（fixed）--- */
    .fixed-demo {
      position: relative;
      min-height: 300px;
    }

    .fixed-box {
      position: fixed;
      top: 50px;
      right: 50px;
      background-color: #d0021b;
      width: 120px;
      height: 60px;
    }

    /* --- 说明文字样式 --- */
    .explanation {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
    }

    .highlight {
      background-color: yellow;
      padding: 2px 4px;
      font-weight: bold;
    }

  </style>
</head>
<body>

  <h1>文档流 vs 脱离文档流 - 系统对比</h1>

  <div class="explanation">
    <strong>核心概念：</strong>文档流（Normal Flow）是浏览器默认的布局方式，元素按照在 HTML 中的顺序依次排列，每个元素占据空间。脱离文档流（Out of Flow）的元素不再占据空间，后续元素会填补其位置。
  </div>

  <hr>

  <h2>演示 1：正常文档流（Normal Flow）</h2>
  <div class="demo-section normal-flow">
    <div class="box box-1">Box 1</div>
    <div class="box box-2">Box 2 (正常)</div>
    <div class="box box-3">Box 3</div>
    <div class="box box-4">Box 4</div>
  </div>
  <p><strong>观察：</strong>所有盒子按照顺序排列，每个盒子都占据空间，Box 3 紧跟在 Box 2 后面。</p>

  <hr>

  <h2>演示 2：脱离文档流（position: absolute）</h2>
  <div class="demo-section out-of-flow">
    <div class="box box-1">Box 1</div>
    <div class="box box-2">Box 2 (absolute)</div>
    <div class="box box-3">Box 3</div>
    <div class="box box-4">Box 4</div>
  </div>
  <p><strong>观察：</strong></p>
  <ul>
    <li>Box 2 设置了 <code>position: absolute</code>，<span class="highlight">脱离了文档流</span></li>
    <li>Box 2 不再占据空间，所以 Box 3 和 Box 4 <span class="highlight">填补了 Box 2 原来的位置</span></li>
    <li>Box 2 现在浮在其他元素之上，位置由 <code>top: 20px; left: 20px;</code> 决定</li>
    <li>Box 2 可以与其他元素重叠</li>
  </ul>

  <hr>

  <h2>演示 3：脱离文档流（position: fixed）</h2>
  <div class="demo-section fixed-demo">
    <div class="box box-1">Box 1</div>
    <div class="box box-3">Box 3</div>
    <div class="box box-4">Box 4</div>
    <div class="box fixed-box">Fixed Box</div>
  </div>
  <p><strong>观察：</strong></p>
  <ul>
    <li>红色的 Fixed Box 设置了 <code>position: fixed</code>，<span class="highlight">完全脱离文档流</span></li>
    <li>它不占据任何空间，其他元素完全忽略它的存在</li>
    <li>它相对于浏览器视口定位，即使滚动页面也保持固定</li>
    <li>请尝试滚动页面，观察它的行为</li>
  </ul>

  <hr>

  <h2>关键对比表</h2>
  <table border="1" cellpadding="10" cellspacing="0" style="width: 100%; border-collapse: collapse;">
    <tr style="background-color: #4a90e2; color: white;">
      <th>特性</th>
      <th>文档流中（static, relative）</th>
      <th>脱离文档流（absolute, fixed）</th>
    </tr>
    <tr>
      <td><strong>占据空间</strong></td>
      <td>✅ 是</td>
      <td>❌ 否</td>
    </tr>
    <tr>
      <td><strong>影响后续元素</strong></td>
      <td>✅ 是（后续元素会跟在后面）</td>
      <td>❌ 否（后续元素会填补其位置）</td>
    </tr>
    <tr>
      <td><strong>可以重叠</strong></td>
      <td>❌ 否（除非使用负 margin）</td>
      <td>✅ 是（可以浮在其他元素之上）</td>
    </tr>
    <tr>
      <td><strong>定位方式</strong></td>
      <td>由文档流决定</td>
      <td>由 position + top/left 等决定</td>
    </tr>
  </table>

  <hr>

  <h2>实际应用场景</h2>
  <ul>
    <li><strong>下拉菜单：</strong>使用 <code>absolute</code>，让菜单浮在按钮下方，不占据额外空间</li>
    <li><strong>工具提示（Tooltip）：</strong>使用 <code>absolute</code>，浮在元素旁边</li>
    <li><strong>固定导航栏：</strong>使用 <code>fixed</code>，始终在视口顶部，不随页面滚动</li>
    <li><strong>模态框遮罩层：</strong>使用 <code>fixed</code>，覆盖整个屏幕</li>
    <li><strong>悬浮按钮：</strong>使用 <code>fixed</code>，固定在右下角</li>
  </ul>

  <div style="height: 1000px; background: linear-gradient(to bottom, #f0f0f0, #e0e0e0); padding: 20px; margin-top: 40px;">
    <p>这个区域用于演示滚动效果。请向下滚动，观察 Fixed Box 的行为。</p>
    <p>Fixed Box 会一直停留在视口的右上角，因为它脱离了文档流，不受页面滚动影响。</p>
  </div>

</body>
</html>
